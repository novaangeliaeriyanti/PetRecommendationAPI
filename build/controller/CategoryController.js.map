{"version":3,"sources":["../../server/controller/CategoryController.js"],"names":["createRow","req","res","cate_name","body","result","context","models","category","create","send","findAllRows","next","findAll","error","findRowById","findByPk","params","id","update","returning","where","cate_id","status","deleteRow","destroy"],"mappings":";;;;;;;AAAA,MAAMA,SAAS,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACpC,QAAM;AAAEC,IAAAA;AAAF,MAAgBF,GAAG,CAACG,IAA1B;AACA,QAAMC,MAAM,GAAG,MAAMJ,GAAG,CAACK,OAAJ,CAAYC,MAAZ,CAAmBC,QAAnB,CAA4BC,MAA5B,CAAmC;AACtDN,IAAAA,SAAS,EAAEA;AAD2C,GAAnC,CAArB;AAGA,SAAOD,GAAG,CAACQ,IAAJ,CAASL,MAAT,CAAP;AACD,CAND;;AAQA,MAAMM,WAAW,GAAG,OAAOV,GAAP,EAAYC,GAAZ,EAAiBU,IAAjB,KAA0B;AAC5C,MAAI;AACF,UAAMP,MAAM,GAAG,MAAMJ,GAAG,CAACK,OAAJ,CAAYC,MAAZ,CAAmBC,QAAnB,CAA4BK,OAA5B,EAArB;AACA,WAAOX,GAAG,CAACQ,IAAJ,CAASL,MAAT,CAAP;AACD,GAHD,CAGE,OAAOS,KAAP,EAAc;AACd,WAAOZ,GAAG,CAACQ,IAAJ,CAASI,KAAT,CAAP;AACD;AACF,CAPD;;AASA,MAAMC,WAAW,GAAG,OAAOd,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMG,MAAM,GAAG,MAAMJ,GAAG,CAACK,OAAJ,CAAYC,MAAZ,CAAmBC,QAAnB,CAA4BQ,QAA5B,CAAqCf,GAAG,CAACgB,MAAJ,CAAWC,EAAhD,CAArB;AACA,SAAOhB,GAAG,CAACQ,IAAJ,CAASL,MAAT,CAAP;AACD,CAHD;;AAKA,MAAMc,MAAM,GAAG,OAAOlB,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAI;AACF,UAAMG,MAAM,GAAG,MAAMJ,GAAG,CAACK,OAAJ,CAAYC,MAAZ,CAAmBC,QAAnB,CAA4BW,MAA5B,CACnB;AACEhB,MAAAA,SAAS,EAAEF,GAAG,CAACG,IAAJ,CAASD;AADtB,KADmB,EAInB;AACEiB,MAAAA,SAAS,EAAE,IADb;AAEEC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAErB,GAAG,CAACgB,MAAJ,CAAWC;AAAtB;AAFT,KAJmB,CAArB;AASA,WAAOhB,GAAG,CAACQ,IAAJ,CAASL,MAAT,CAAP;AACD,GAXD,CAWE,OAAOS,KAAP,EAAc;AACd,WAAOZ,GAAG,CAACqB,MAAJ,CAAW,GAAX,EAAgBb,IAAhB,CAAqB,gBAArB,CAAP;AACD;AACF,CAfD;;AAiBA,MAAMc,SAAS,GAAG,OAAOvB,GAAP,EAAYC,GAAZ,KAAoB;AACpC,MAAI;AACF,UAAMG,MAAM,GAAG,MAAMJ,GAAG,CAACK,OAAJ,CAAYC,MAAZ,CAAmBC,QAAnB,CAA4BiB,OAA5B,CAAoC;AACvDJ,MAAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAErB,GAAG,CAACgB,MAAJ,CAAWC;AAAtB;AADgD,KAApC,CAArB;AAGAhB,IAAAA,GAAG,CAACQ,IAAJ,CAAS,WAAWL,MAAX,GAAoB,MAA7B;AACD,GALD,CAKE,OAAOS,KAAP,EAAc;AACd,WAAOZ,GAAG,CAACqB,MAAJ,CAAW,GAAX,EAAgBb,IAAhB,CAAqB,eAArB,CAAP;AACD;AACF,CATD;;eAWe;AACbV,EAAAA,SADa;AAEbW,EAAAA,WAFa;AAGbI,EAAAA,WAHa;AAIbI,EAAAA,MAJa;AAKbK,EAAAA;AALa,C","sourcesContent":["const createRow = async (req, res) => {\r\n  const { cate_name } = req.body;\r\n  const result = await req.context.models.category.create({\r\n    cate_name: cate_name,\r\n  });\r\n  return res.send(result);\r\n};\r\n\r\nconst findAllRows = async (req, res, next) => {\r\n  try {\r\n    const result = await req.context.models.category.findAll();\r\n    return res.send(result);\r\n  } catch (error) {\r\n    return res.send(error);\r\n  }\r\n};\r\n\r\nconst findRowById = async (req, res) => {\r\n  const result = await req.context.models.category.findByPk(req.params.id);\r\n  return res.send(result);\r\n};\r\n\r\nconst update = async (req, res) => {\r\n  try {\r\n    const result = await req.context.models.category.update(\r\n      {\r\n        cate_name: req.body.cate_name,\r\n      },\r\n      {\r\n        returning: true,\r\n        where: { cate_id: req.params.id },\r\n      }\r\n    );\r\n    return res.send(result);\r\n  } catch (error) {\r\n    return res.status(404).send(\"no data update\");\r\n  }\r\n};\r\n\r\nconst deleteRow = async (req, res) => {\r\n  try {\r\n    const result = await req.context.models.category.destroy({\r\n      where: { cate_id: req.params.id },\r\n    });\r\n    res.send(\"delete\" + result + \"rows\");\r\n  } catch (error) {\r\n    return res.status(404).send(\"no data found\");\r\n  }\r\n};\r\n\r\nexport default {\r\n  createRow,\r\n  findAllRows,\r\n  findRowById,\r\n  update,\r\n  deleteRow\r\n};\r\n"],"file":"CategoryController.js"}